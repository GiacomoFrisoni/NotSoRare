<div class="container">
    <h3 [innerHTML]="'NewExperience.Title' | translate"></h3>
    <div *ngIf="isPageLoading" class="page-card centered">
        <i class='fa fa-spinner fa-spin'></i>
        <span [innerHTML]="'NewExperience.Loading' | translate"></span>
    </div>

    <div *ngIf="!isPageLoading && !isUserLoggedIn" class="page-card centered">
        <span [innerHTML]="'NewExperience.UserNotLoggedIn' | translate"></span>
    </div>

    <div *ngIf="!isPageLoading && isPageErrorPresent && isUserLoggedIn" class="page-card centered">
        <span [innerHTML]="'NewExperience.PageError' | translate"></span>
    </div>

    <div *ngIf="!isPageLoading && !isPageErrorPresent && isUserLoggedIn" class="page-card">
        <label [innerHTML]="'NewExperience.WriteHere' | translate"></label>
        <textarea [(ngModel)]="experienceText"></textarea>

        <span *ngIf="isSubmitting">
            <i class='fa fa-spinner fa-spin'></i>
            <span [innerHTML]="'NewExperience.Submitting' | translate"></span>
        </span>
        
        <span *ngIf="isAnyErrorPresent" [innerHTML]="'NewExperience.SubmitError' | translate"></span>
        <span *ngIf="isEmpty" [innerHTML]="'NewExperience.TooShort' | translate"></span>

        <div class="flex end-aligned">
            <div class="submit-button">
                <app-divbutton icon="fa fa-pencil" [text]="'NewExperience.Submit' | translate" (click)="onSubmit()"></app-divbutton>
            </div>
        </div>
    </div>
</div>